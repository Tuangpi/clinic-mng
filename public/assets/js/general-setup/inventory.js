var descriptionForm=function(){let e,t,i=$("#descriptionFormModal"),n=$("#descriptionFormModalTitle"),d=$("#descriptionForm"),o=d.find("#description"),l=i.find("#saveDescription");return{init:function(){l.click((function(){!function(){if(d.parsley().validate()){let i={description:o.val()};cms.saveForm(_id,i,e,(function(){t(),0==_id&&a()}))}}()})),i.on("hidden.bs.modal",(function(){a()}))},view:function(d,l,a){e=d,t=l,0==_id?(n.text("Create New "+a),i.modal("show")):(n.text(`Edit ${a} Details`),cms.get(`${e}/${_id}/edit`,null,(function(e){!function(e){o.val(e.description)}(e.data),i.modal("show")})))}};function a(){d[0].reset(),d.parsley().reset()}}(),typeList=function(){let e,t=$("#addType"),i=$("#typesTable");return{init:function(){null==e&&(e=i.DataTable({processing:!0,serverSide:!0,ajax:_typeUrl,columns:[{data:null,name:"actions",searchable:!1,orderable:!1},{data:"description",name:"description"}],order:[[1,"asc"]],createdRow:function(e,t,i){$(e).find("td:eq(0)").addClass("text-center").html(`<div class="btn-group dropend">\n                            <a href="#" class="dropdown-toggle text-primary" data-bs-toggle="dropdown">\n                            <i class="fa fa-ellipsis-vertical"></i>\n                            </a>\n                            <ul class="dropdown-menu dropdown-menu-end">\n                                <li><button id="edit${t.id}" class="dropdown-item edit fs-11px" type="button">Edit</button></li>\n                                <li><button id="del${t.id}" class="dropdown-item delete fs-11px" type="button">Delete</button></li>\n                            </ul>\n                        </div>`)},drawCallback:function(){i.find(".edit").unbind("click").click((function(){_id=this.id.replace("edit",""),descriptionForm.view(_typeUrl,n,"Type")})),i.find(".delete").unbind("click").click((function(){cms.confirm("Delete Type","Are you sure you want to delete this record?",(()=>{cms.delete(`${_typeUrl}/${this.id.replace("del","")}`,null,(()=>{toastr.success("Type has been deleted.","Delete Type"),n()}))}))}))},initComplete:function(){$("#typesTable_filter input").unbind(),$("#typesTable_filter input").keyup((function(t){13==t.keyCode&&e.search(this.value).draw()}))}})),t.click((function(){_id=0,descriptionForm.view(_typeUrl,n,"Type")}))},reload:n};function n(){e.ajax.reload(null,!1)}}(),categoryList=function(){let e,t=$("#addCategory"),i=$("#categoriesTable");return{init:function(){null==e&&(e=i.DataTable({processing:!0,serverSide:!0,ajax:_categoryUrl,columns:[{data:null,name:"actions",searchable:!1,orderable:!1},{data:"description",name:"description"}],order:[[1,"asc"]],createdRow:function(e,t,i){$(e).find("td:eq(0)").addClass("text-center").html(`<div class="btn-group dropend">\n                            <a href="#" class="dropdown-toggle text-primary" data-bs-toggle="dropdown">\n                            <i class="fa fa-ellipsis-vertical"></i>\n                            </a>\n                            <ul class="dropdown-menu dropdown-menu-end">\n                                <li><button id="edit${t.id}" class="dropdown-item edit fs-11px" type="button">Edit</button></li>\n                                <li><button id="del${t.id}" class="dropdown-item delete fs-11px" type="button">Delete</button></li>\n                            </ul>\n                        </div>`)},drawCallback:function(){i.find(".edit").unbind("click").click((function(){_id=this.id.replace("edit",""),descriptionForm.view(_categoryUrl,n,"Category")})),i.find(".delete").unbind("click").click((function(){cms.confirm("Delete Category","Are you sure you want to delete this record?",(()=>{cms.delete(`${_categoryUrl}/${this.id.replace("del","")}`,null,(()=>{toastr.success("Category has been deleted.","Delete Category"),n()}))}))}))},initComplete:function(){$("#categoriesTable_filter input").unbind(),$("#categoriesTable_filter input").keyup((function(t){13==t.keyCode&&e.search(this.value).draw()}))}})),t.click((function(){_id=0,descriptionForm.view(_categoryUrl,n,"Category")}))},reload:n};function n(){e.ajax.reload(null,!1)}}(),uomList=function(){let e,t=$("#addUOM"),i=$("#uomsTable");return{init:function(){null==e&&(e=i.DataTable({processing:!0,serverSide:!0,ajax:_uomUrl,columns:[{data:null,name:"actions",searchable:!1,orderable:!1},{data:"description",name:"description"}],order:[[1,"asc"]],createdRow:function(e,t,i){$(e).find("td:eq(0)").addClass("text-center").html(`<div class="btn-group dropend">\n                            <a href="#" class="dropdown-toggle text-primary" data-bs-toggle="dropdown">\n                            <i class="fa fa-ellipsis-vertical"></i>\n                            </a>\n                            <ul class="dropdown-menu dropdown-menu-end">\n                                <li><button id="edit${t.id}" class="dropdown-item edit fs-11px" type="button">Edit</button></li>\n                                <li><button id="del${t.id}" class="dropdown-item delete fs-11px" type="button">Delete</button></li>\n                            </ul>\n                        </div>`)},drawCallback:function(){i.find(".edit").unbind("click").click((function(){_id=this.id.replace("edit",""),descriptionForm.view(_uomUrl,n,"UOM")})),i.find(".delete").unbind("click").click((function(){cms.confirm("Delete UOM","Are you sure you want to delete this record?",(()=>{cms.delete(`${_uomUrl}/${this.id.replace("del","")}`,null,(()=>{toastr.success("UOM has been deleted.","Delete UOM"),n()}))}))}))},initComplete:function(){$("#uomsTable_filter input").unbind(),$("#uomsTable_filter input").keyup((function(t){13==t.keyCode&&e.search(this.value).draw()}))}})),t.click((function(){_id=0,descriptionForm.view(_uomUrl,n,"UOM")}))},reload:n};function n(){e.ajax.reload(null,!1)}}(),usageList=function(){let e,t=$("#addUsage"),i=$("#usagesTable");return{init:function(){null==e&&(e=i.DataTable({processing:!0,serverSide:!0,ajax:_usageUrl,columns:[{data:null,name:"actions",searchable:!1,orderable:!1},{data:"description",name:"description"}],order:[[1,"asc"]],createdRow:function(e,t,i){$(e).find("td:eq(0)").addClass("text-center").html(`<div class="btn-group dropend">\n                            <a href="#" class="dropdown-toggle text-primary" data-bs-toggle="dropdown">\n                            <i class="fa fa-ellipsis-vertical"></i>\n                            </a>\n                            <ul class="dropdown-menu dropdown-menu-end">\n                                <li><button id="edit${t.id}" class="dropdown-item edit fs-11px" type="button">Edit</button></li>\n                                <li><button id="del${t.id}" class="dropdown-item delete fs-11px" type="button">Delete</button></li>\n                            </ul>\n                        </div>`)},drawCallback:function(){i.find(".edit").unbind("click").click((function(){_id=this.id.replace("edit",""),descriptionForm.view(_usageUrl,n,"usage")})),i.find(".delete").unbind("click").click((function(){cms.confirm("Delete Usage","Are you sure you want to delete this record?",(()=>{cms.delete(`${_usageUrl}/${this.id.replace("del","")}`,null,(()=>{toastr.success("Usage has been deleted.","Delete Usage"),n()}))}))}))},initComplete:function(){$("#usagesTable_filter input").unbind(),$("#usagesTable_filter input").keyup((function(t){13==t.keyCode&&e.search(this.value).draw()}))}})),t.click((function(){_id=0,descriptionForm.view(_usageUrl,n,"Usage")}))},reload:n};function n(){e.ajax.reload(null,!1)}}(),dosageList=function(){let e,t=$("#addDosage"),i=$("#dosagesTable");return{init:function(){null==e&&(e=i.DataTable({processing:!0,serverSide:!0,ajax:_dosageUrl,columns:[{data:null,name:"actions",searchable:!1,orderable:!1},{data:"description",name:"description"}],order:[[1,"asc"]],createdRow:function(e,t,i){$(e).find("td:eq(0)").addClass("text-center").html(`<div class="btn-group dropend">\n                            <a href="#" class="dropdown-toggle text-primary" data-bs-toggle="dropdown">\n                            <i class="fa fa-ellipsis-vertical"></i>\n                            </a>\n                            <ul class="dropdown-menu dropdown-menu-end">\n                                <li><button id="edit${t.id}" class="dropdown-item edit fs-11px" type="button">Edit</button></li>\n                                <li><button id="del${t.id}" class="dropdown-item delete fs-11px" type="button">Delete</button></li>\n                            </ul>\n                        </div>`)},drawCallback:function(){i.find(".edit").unbind("click").click((function(){_id=this.id.replace("edit",""),descriptionForm.view(_dosageUrl,n,"Dosage")})),i.find(".delete").unbind("click").click((function(){cms.confirm("Delete Dosage","Are you sure you want to delete this record?",(()=>{cms.delete(`${_dosageUrl}/${this.id.replace("del","")}`,null,(()=>{toastr.success("Dosage has been deleted.","Delete Dosage"),n()}))}))}))},initComplete:function(){$("#dosagesTable_filter input").unbind(),$("#dosagesTable_filter input").keyup((function(t){13==t.keyCode&&e.search(this.value).draw()}))}})),t.click((function(){_id=0,descriptionForm.view(_dosageUrl,n,"Dosage")}))},reload:n};function n(){e.ajax.reload(null,!1)}}(),frequencyList=function(){let e,t=$("#addFrequency"),i=$("#frequenciesTable");return{init:function(){null==e&&(e=i.DataTable({processing:!0,serverSide:!0,ajax:_frequencyUrl,columns:[{data:null,name:"actions",searchable:!1,orderable:!1},{data:"description",name:"description"}],order:[[1,"asc"]],createdRow:function(e,t,i){$(e).find("td:eq(0)").addClass("text-center").html(`<div class="btn-group dropend">\n                            <a href="#" class="dropdown-toggle text-primary" data-bs-toggle="dropdown">\n                            <i class="fa fa-ellipsis-vertical"></i>\n                            </a>\n                            <ul class="dropdown-menu dropdown-menu-end">\n                                <li><button id="edit${t.id}" class="dropdown-item edit fs-11px" type="button">Edit</button></li>\n                                <li><button id="del${t.id}" class="dropdown-item delete fs-11px" type="button">Delete</button></li>\n                            </ul>\n                        </div>`)},drawCallback:function(){i.find(".edit").unbind("click").click((function(){_id=this.id.replace("edit",""),descriptionForm.view(_frequencyUrl,n,"Frequency")})),i.find(".delete").unbind("click").click((function(){cms.confirm("Delete Frequency","Are you sure you want to delete this record?",(()=>{cms.delete(`${_frequencyUrl}/${this.id.replace("del","")}`,null,(()=>{toastr.success("Frequency has been deleted.","Delete Frequency"),n()}))}))}))},initComplete:function(){$("#frequenciesTable_filter input").unbind(),$("#frequenciesTable_filter input").keyup((function(t){13==t.keyCode&&e.search(this.value).draw()}))}})),t.click((function(){_id=0,descriptionForm.view(_frequencyUrl,n,"Frequency")}))},reload:n};function n(){e.ajax.reload(null,!1)}}();$((function(){$(document).ready((function(){$("#frequenciesLink").click((function(){frequencyList.init()})),$("#dosagesLink").click((function(){dosageList.init()})),$("#usagesLink").click((function(){usageList.init()})),$("#uomsLink").click((function(){uomList.init()})),$("#categoriesLink").click((function(){categoryList.init()})),typeList.init(),descriptionForm.init()}))}));
