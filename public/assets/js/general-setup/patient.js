var descriptionForm=function(){let e,t,i=$("#descriptionFormModal"),n=$("#descriptionFormModalTitle"),l=$("#descriptionForm"),a=l.find("#description"),o=i.find("#saveDescription");return{init:function(){o.click((function(){!function(){if(l.parsley().validate()){let i={description:a.val()};cms.saveForm(_id,i,e,(function(){t(),0==_id&&d()}))}}()})),i.on("hidden.bs.modal",(function(){d()}))},view:function(l,o,d){e=l,t=o,0==_id?(n.text("Create New "+d),i.modal("show")):(n.text(`Edit ${d} Details`),cms.get(`${e}/${_id}/edit`,null,(function(e){!function(e){a.val(e.description)}(e.data),i.modal("show")})))}};function d(){l[0].reset(),l.parsley().reset()}}(),caseNoteTemplateForm=function(){let e=$("#caseNoteTemplateFormModal"),t=$("#caseNoteTemplateFormModalTitle"),i=$("#caseNoteTemplateForm"),n=i.find("#name"),l=i.find("#description"),a=e.find("#saveCaseNoteTemplate");return{init:function(){l.summernote({height:"200"}),a.click((function(){!function(){if(i.parsley().validate()){let e={name:n.val(),description:l.val()};cms.saveForm(_id,e,_caseNoteTemplateUrl,(function(){caseNoteTemplateList.reload(),0==_id&&o()}))}}()})),e.on("hidden.bs.modal",(function(){o()}))},view:function(){0==_id?(t.text("Create New Case Note Template"),e.modal("show")):(t.text("Edit Case Note Template Details"),cms.get(`${_caseNoteTemplateUrl}/${_id}/edit`,null,(function(t){var i;i=t.caseNoteTemplate,n.val(i.name),l.summernote("code",i.description),e.modal("show")})))}};function o(){i[0].reset(),i.parsley().reset()}}(),caseNoteTemplateList=function(){let e,t=$("#addCaseNoteTemplate"),i=$("#caseNoteTemplatesTable");return{init:function(){null==e&&(e=i.DataTable({processing:!0,serverSide:!0,ajax:_caseNoteTemplateUrl,columns:[{data:null,name:"actions",searchable:!1,orderable:!1},{data:"name",name:"name"}],order:[[1,"asc"]],createdRow:function(e,t,i){$(e).find("td:eq(0)").addClass("text-center").html(t.is_system_default?"":`<div class="btn-group dropend">\n                            <a href="#" class="dropdown-toggle text-primary" data-bs-toggle="dropdown">\n                            <i class="fa fa-ellipsis-vertical"></i>\n                            </a>\n                            <ul class="dropdown-menu dropdown-menu-end">\n                                <li><button id="edit${t.id}" class="dropdown-item edit fs-11px" type="button">Edit</button></li>\n                                <li><button id="del${t.id}" class="dropdown-item delete fs-11px" type="button">Delete</button></li>\n                            </ul>\n                        </div>`)},drawCallback:function(){i.find(".edit").unbind("click").click((function(){_id=this.id.replace("edit",""),caseNoteTemplateForm.view()})),i.find(".delete").unbind("click").click((function(){cms.confirm("Delete Case Note Template","Are you sure you want to delete this record?",(()=>{cms.delete(`${_caseNoteTemplateUrl}/${this.id.replace("del","")}`,null,(()=>{toastr.success("Case Note Template has been deleted.","Delete Case Note Template"),n()}))}))}))},initComplete:function(){$("#caseNoteTemplatesTable_filter input").unbind(),$("#caseNoteTemplatesTable_filter input").keyup((function(t){13==t.keyCode&&e.search(this.value).draw()}))}})),t.click((function(){_id=0,caseNoteTemplateForm.view()}))},reload:n};function n(){e.ajax.reload(null,!1)}}(),caseTypeList=function(){let e,t=$("#addCaseType"),i=$("#caseTypesTable");return{init:function(){null==e&&(e=i.DataTable({processing:!0,serverSide:!0,ajax:_caseTypeUrl,columns:[{data:null,name:"actions",searchable:!1,orderable:!1},{data:"description",name:"description"}],order:[[1,"asc"]],createdRow:function(e,t,i){$(e).find("td:eq(0)").addClass("text-center").html(`<div class="btn-group dropend">\n                            <a href="#" class="dropdown-toggle text-primary" data-bs-toggle="dropdown">\n                            <i class="fa fa-ellipsis-vertical"></i>\n                            </a>\n                            <ul class="dropdown-menu dropdown-menu-end">\n                                <li><button id="edit${t.id}" class="dropdown-item edit fs-11px" type="button">Edit</button></li>\n                                <li><button id="del${t.id}" class="dropdown-item delete fs-11px" type="button">Delete</button></li>\n                            </ul>\n                        </div>`)},drawCallback:function(){i.find(".edit").unbind("click").click((function(){_id=this.id.replace("edit",""),descriptionForm.view(_caseTypeUrl,n,"Case Type")})),i.find(".delete").unbind("click").click((function(){cms.confirm("Delete Case Type","Are you sure you want to delete this record?",(()=>{cms.delete(`${_caseTypeUrl}/${this.id.replace("del","")}`,null,(()=>{toastr.success("Case Type has been deleted.","Delete Case Type"),n()}))}))}))},initComplete:function(){$("#caseTypesTable_filter input").unbind(),$("#caseTypesTable_filter input").keyup((function(t){13==t.keyCode&&e.search(this.value).draw()}))}})),t.click((function(){_id=0,descriptionForm.view(_caseTypeUrl,n,"Case Type")}))},reload:n};function n(){e.ajax.reload(null,!1)}}(),titleList=function(){let e,t=$("#addTitle"),i=$("#titlesTable");return{init:function(){null==e&&(e=i.DataTable({processing:!0,serverSide:!0,ajax:_titleUrl,columns:[{data:null,name:"actions",searchable:!1,orderable:!1},{data:"description",name:"description"}],order:[[1,"asc"]],createdRow:function(e,t,i){$(e).find("td:eq(0)").addClass("text-center").html(`<div class="btn-group dropend">\n                            <a href="#" class="dropdown-toggle text-primary" data-bs-toggle="dropdown">\n                            <i class="fa fa-ellipsis-vertical"></i>\n                            </a>\n                            <ul class="dropdown-menu dropdown-menu-end">\n                                <li><button id="edit${t.id}" class="dropdown-item edit fs-11px" type="button">Edit</button></li>\n                                <li><button id="del${t.id}" class="dropdown-item delete fs-11px" type="button">Delete</button></li>\n                            </ul>\n                        </div>`)},drawCallback:function(){i.find(".edit").unbind("click").click((function(){_id=this.id.replace("edit",""),descriptionForm.view(_titleUrl,n,"Title")})),i.find(".delete").unbind("click").click((function(){cms.confirm("Delete Title","Are you sure you want to delete this record?",(()=>{cms.delete(`${_titleUrl}/${this.id.replace("del","")}`,null,(()=>{toastr.success("Title has been deleted.","Delete Title"),n()}))}))}))},initComplete:function(){$("#titlesTable_filter input").unbind(),$("#titlesTable_filter input").keyup((function(t){13==t.keyCode&&e.search(this.value).draw()}))}})),t.click((function(){_id=0,descriptionForm.view(_titleUrl,n,"Title")}))},reload:n};function n(){e.ajax.reload(null,!1)}}();$((function(){$(document).ready((function(){$("#titlesLink").click((function(){titleList.init()})),$("#caseNoteTemplatesLink").click((function(){caseNoteTemplateList.init()})),caseNoteTemplateForm.init(),caseTypeList.init(),descriptionForm.init()}))}));
