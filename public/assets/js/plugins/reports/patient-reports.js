!function(e){"use strict";function t(t,r,n){n=(t=e(t)).clone(r,n);for(var o,a,i,s=t.find("textarea").add(t.filter("textarea")),d=n.find("textarea").add(n.filter("textarea")),c=t.find("select").add(t.filter("select")),l=n.find("select").add(n.filter("select")),u=t.find("canvas").add(t.filter("canvas")),f=n.find("canvas").add(n.filter("canvas")),p=0,h=s.length;p<h;++p)e(d[p]).val(e(s[p]).val());for(p=0,h=c.length;p<h;++p)for(o=0,a=c[p].options.length;o<a;++o)!0===c[p].options[o].selected&&(l[p].options[o].selected=!0);for(p=0,h=u.length;p<h;++p)(i=u[p].getContext("2d"))&&(f[p].getContext("2d").drawImage(u[p],0,0),e(f[p]).attr("data-jquery-print",i.canvas.toDataURL()));return n}function r(r){var n=e("");try{n=t(r)}catch(t){n=e("<span />").html(r)}return n}function n(t,r,n){var o=e.Deferred();try{t=t.contentWindow||t.contentDocument||t;try{t.resizeTo(window.innerWidth,window.innerHeight)}catch(r){console.warn(r)}var a=t.document||t.contentDocument||t;n.doctype&&a.write(n.doctype),a.write(r);try{for(var i=a.querySelectorAll("canvas"),s=0;s<i.length;s++){var d=i[s].getContext("2d"),c=new Image;c.onload=function(){d.drawImage(c,0,0)},c.src=i[s].getAttribute("data-jquery-print")}}catch(r){console.warn(r)}a.close();var l=!1,u=function(){if(!l){t.focus();try{t.document.execCommand("print",!1,null)||t.print(),e("body").focus()}catch(e){t.print()}t.close(),l=!0,o.resolve()}};e(t).on("load",u),setTimeout(u,n.timeout)}catch(r){o.reject(r)}return o}function o(e,t){return n(window.open(),e,t).always((function(){try{t.deferred.resolve()}catch(e){console.warn("Error notifying deferred",e)}}))}function a(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName}e.print=e.fn.print=function(){(i=this)instanceof e&&(i=i.get(0)),a(i)?(l=e(i),0<arguments.length&&(s=arguments[0])):0<arguments.length?a((l=e(arguments[0]))[0])?1<arguments.length&&(s=arguments[1]):(s=arguments[0],l=e("html")):l=e("html");var i={globalStyles:!0,mediaPrint:!1,stylesheet:null,noPrintSelector:".no-print",iframe:!0,append:null,prepend:null,manuallyCopyFormValues:!0,deferred:e.Deferred(),timeout:750,title:null,doctype:"<!doctype html>"},s=e.extend({},i,s||{}),d=e("");if(s.globalStyles?d=e("style, link, meta, base, title"):s.mediaPrint&&(d=e("link[media=print]")),s.stylesheet){(e.isArray||Array.isArray)(s.stylesheet)||(s.stylesheet=[s.stylesheet]);for(var c=0;c<s.stylesheet.length;c++)d=e.merge(d,e('<link rel="stylesheet" href="'+s.stylesheet[c]+'">'))}var l,u=t(l,!0,!0);(u=e("<span/>").append(u)).find(s.noPrintSelector).remove(),u.append(t(d)),s.title&&(0===(l=e("title",u)).length&&(l=e("<title />"),u.append(l)),l.text(s.title)),u.append(r(s.append)),u.prepend(r(s.prepend)),s.manuallyCopyFormValues&&(u.find("input").each((function(){var t=e(this);t.is("[type='radio']")||t.is("[type='checkbox']")?t.prop("checked")&&t.attr("checked","checked"):t.attr("value",t.val())})),u.find("select").each((function(){e(this).find(":selected").attr("selected","selected")})),u.find("textarea").each((function(){var t=e(this);t.text(t.val())})));var f,p,h,w,y=u.html();try{s.deferred.notify("generated_markup",y,u)}catch(i){console.warn("Error notifying deferred",i)}if(u.remove(),s.iframe)try{f=y,h=e((p=s).iframe+""),0===(w=h.length)&&(h=e('<iframe height="0" width="0" border="0" wmode="Opaque"/>').prependTo("body").css({position:"absolute",top:-999,left:-999})),n(h.get(0),f,p).done((function(){setTimeout((function(){0===w&&h.remove()}),1e3)})).fail((function(e){console.error("Failed to print from iframe",e),o(f,p)})).always((function(){try{p.deferred.resolve()}catch(e){console.warn("Error notifying deferred",e)}}))}catch(i){console.error("Failed to print from iframe",i.stack,i.message),o(y,s)}else o(y,s);return this}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],(function(t){return e(t,window,document)})):"object"==typeof exports?module.exports=function(t,r){return t=t||window,(r=r||("undefined"!=typeof window?require("jquery"):require("jquery")(t))).fn.dataTable||require("datatables.net")(t,r),e(r,0,t.document)}:e(jQuery,window,document)}((function(e,t,r,n){"use strict";function o(t,r){if(!a.versionCheck||!a.versionCheck("1.10.8"))throw"RowGroup requires DataTables 1.10.8 or newer";if(this.c=e.extend(!0,{},a.defaults.rowGroup,o.defaults,r),this.s={dt:new a.Api(t)},this.dom={},t=(r=this.s.dt.settings()[0]).rowGroup)return t;(r.rowGroup=this)._constructor()}var a=e.fn.dataTable;return e.extend(o.prototype,{dataSrc:function(t){var r;return t===n?this.c.dataSrc:(r=this.s.dt,this.c.dataSrc=t,e(r.table().node()).triggerHandler("rowgroup-datasrc.dt",[r,t]),this)},disable:function(){return this.c.enable=!1,this},enable:function(e){return!1===e?this.disable():(this.c.enable=!0,this)},enabled:function(){return this.c.enable},_constructor:function(){var e=this,t=this.s.dt,r=t.settings()[0];t.on("draw.dtrg",(function(t,n){e.c.enable&&r===n&&e._draw()})),t.on("column-visibility.dt.dtrg responsive-resize.dt.dtrg",(function(){e._adjustColspan()})),t.on("destroy",(function(){t.off(".dtrg")}))},_adjustColspan:function(){e("tr."+this.c.className,this.s.dt.table().body()).find("td:visible").attr("colspan",this._colspan())},_colspan:function(){return this.s.dt.columns().visible().reduce((function(e,t){return e+t}),0)},_draw:function(){var e=this.s.dt;e=this._group(0,e.rows({page:"current"}).indexes());this._groupDisplay(0,e)},_group:function(e,t){for(var r,o=Array.isArray(this.c.dataSrc)?this.c.dataSrc:[this.c.dataSrc],i=a.ext.oApi._fnGetObjectDataFn(o[e]),s=this.s.dt,d=[],c=0,l=t.length;c<l;c++){var u,f=t[c];null!==(u=i(s.row(f).data()))&&u!==n||(u=this.c.emptyDataGroup),r!==n&&u===r||(d.push({dataPoint:u,rows:[]}),r=u),d[d.length-1].rows.push(f)}if(o[e+1]!==n)for(c=0,l=d.length;c<l;c++)d[c].children=this._group(e+1,d[c].rows);return d},_groupDisplay:function(e,t){for(var r,n=this.s.dt,o=0,a=t.length;o<a;o++){var i,s=t[o],d=s.dataPoint,c=s.rows;this.c.startRender&&(r=this.c.startRender.call(this,n.rows(c),d,e),i=this._rowWrap(r,this.c.startClassName,e))&&i.insertBefore(n.row(c[0]).node()),this.c.endRender&&(r=this.c.endRender.call(this,n.rows(c),d,e),i=this._rowWrap(r,this.c.endClassName,e))&&i.insertAfter(n.row(c[c.length-1]).node()),s.children&&this._groupDisplay(e+1,s.children)}},_rowWrap:function(t,r,o){return(t=null!==t&&""!==t?t:this.c.emptyDataGroup)===n||null===t?null:("object"==typeof t&&t.nodeName&&"tr"===t.nodeName.toLowerCase()?e(t):t instanceof e&&t.length&&"tr"===t[0].nodeName.toLowerCase()?t:e("<tr/>").append(e("<th/>").attr("colspan",this._colspan()).attr("scope","row").append(t))).addClass(this.c.className).addClass(r).addClass("dtrg-level-"+o)}}),o.defaults={className:"dtrg-group",dataSrc:0,emptyDataGroup:"No group",enable:!0,endClassName:"dtrg-end",endRender:null,startClassName:"dtrg-start",startRender:function(e,t){return t}},o.version="1.3.0",e.fn.dataTable.RowGroup=o,e.fn.DataTable.RowGroup=o,a.Api.register("rowGroup()",(function(){return this})),a.Api.register("rowGroup().disable()",(function(){return this.iterator("table",(function(e){e.rowGroup&&e.rowGroup.enable(!1)}))})),a.Api.register("rowGroup().enable()",(function(e){return this.iterator("table",(function(t){t.rowGroup&&t.rowGroup.enable(e===n||e)}))})),a.Api.register("rowGroup().enabled()",(function(){var e=this.context;return!(!e.length||!e[0].rowGroup)&&e[0].rowGroup.enabled()})),a.Api.register("rowGroup().dataSrc()",(function(e){return e===n?this.context[0].rowGroup.dataSrc():this.iterator("table",(function(t){t.rowGroup&&t.rowGroup.dataSrc(e)}))})),e(r).on("preInit.dt.dtrg",(function(t,r,n){var i,s;"dt"===t.namespace&&(t=r.oInit.rowGroup,i=a.defaults.rowGroup,t||i)&&(s=e.extend({},i,t),!1!==t)&&new o(r,s)})),a}));
