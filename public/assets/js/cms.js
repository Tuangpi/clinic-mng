let loader=$("#loader");$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},beforeSend:()=>{loader.removeClass("loaded")},complete:function(){loader.addClass("loaded")}}),function(e){"use strict";var t={activateMenuLink:function(){let t=e("#sidebar"),n=window.location.href,r=t.find('.menu-link[href="'+n+'"]');0==r.length&&(r=t.find('.menu-link[href="'+e("#hfParentUrl").val()+'"]')),r.length>0&&(r.parent().addClass("active"),r.parents(".menu-item").add(this).each((function(){var t=e(this);t.addClass("active"),t.hasClass("has-sub")&&t.addClass("expand")})));const o=t.find(".has-sub").filter((function(){return 0==e(this).find(".menu-submenu").children().length})).get();e(o).remove()},multipleModal:function(){e(document).on({"show.bs.modal":function(){var t=1040+10*e(".modal:visible").length;e(this).css("z-index",t),setTimeout((function(){e(".modal-backdrop").not(".modal-stack").css("z-index",t-1).addClass("modal-stack")}),0)},"hidden.bs.modal":function(){e(this).removeAttr("style"),e(".modal:visible").length>0&&setTimeout((function(){e(document.body).addClass("modal-open")}),0)}},".modal")},branchSwitching:function(){e("#branchList").find(".dropdown-item").click((function(t){if(t.preventDefault(),e(this).hasClass("active"))return;const n=this.id.replace("br","");cms.confirm("Are you sure?","You're about to leave this branch",(()=>{window.location.href=`${_rootUrl}/branches/${n}/switch`}),"fa fa-shop")}))}};e(document).ready((function(){t.activateMenuLink(),t.multipleModal(),t.branchSwitching()}))}(jQuery);var cms=function(){return{isNull:function(e,t){null==t&&(t="");return null==e?t:e},convertToInt:function(e){let t=parseInt(e.replace(/,/g,""));isNaN(t)&&(t=0);return t},convertToDecimal:function(e){let t=parseFloat(e.replace(/,/g,""));isNaN(t)&&(t=0);return t},numberWithCommas:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},humanFileSize:function(e,t){var n=t?1e3:1024;if(Math.abs(e)<n)return e+" B";var r=t?["kB","MB","GB","TB","PB","EB","ZB","YB"]:["KB","MB","GB","TB","PB","EB","ZB","YB"],o=-1;do{e/=n,++o}while(Math.abs(e)>=n&&o<r.length-1);return e.toFixed(1)+" "+r[o]},currentDate:function(e=!0){return moment().format((e?"DD/MM":"MM/DD")+"/YYYY")},currentDateTime:function(e=!0){return moment().format((e?"DD/MM":"MM/DD")+"/YYYY hh:mm A")},currentTime:function(){return moment().format("hh:mm A")},formatDateTime:function(e){return null!=e&&""!=e&&null!=e?moment(e).format("DD/MM/YYYY hh:mm A"):null},convertToDateTime:function(e){return null!=e&&""!=e&&null!=e?moment(e,"DD/MM/YYYY hh:mm A").format("MM/DD/YYYY hh:mm A"):null},convertToDate:function(e){return null!=e&&""!=e&&null!=e?moment(e,"DD/MM/YYYY").format("MM/DD/YYYY"):null},formatDate:function(e){return null!=e&&""!=e&&null!=e?moment(e).format("DD/MM/YYYY"):null},formatTime:function(e){return moment(e).format("hh:mm A")},initPopover:function(){[].slice.call(document.querySelectorAll('[data-bs-toggle="popover"]')).map((function(e){return new bootstrap.Popover(e)}))},initTooltip:function(){[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map((function(e){return new bootstrap.Tooltip(e)}))},confirm:function(e,t,n,r="fa fa-question-circle",o=(()=>{})){null!=r&&null!=r||(r="fa fa-question-circle");null!=o&&null!=o||(o=()=>{});$.confirm({icon:r,theme:"modern",title:e,content:t,buttons:{yes:{btnClass:"btn-primary",action:n},no:o}})},post:function(t,n,r){e("POST",t,n,r)},get:function(t,n,r){e("GET",t,n,r)},put:function(t,n,r){e("PUT",t,n,r)},delete:function(t,n,r){e("DELETE",t,n,(e=>{e.isError?(toastr.error(e.errMsg,""),null!=e.serverError&&console.log(e.serverError)):null!=r&&r(e)}))},ajax:e,ajaxWithFile:function(e,t,n,r){n.append("_method",e),$.ajax({type:"POST",url:t,data:n,dataType:"JSON",mimeType:"multipart/form-data",contentType:!1,cache:!1,processData:!1,success:r,error:function(e,t,n){toastr.error("An error has been occured, please contact your system administrator.<br/>message: "+e.responseText,"AJAX Error")}})},saveForm:function(e,t,n,r){let o=n,a="POST";0!=e&&(a="PUT",o+="/"+e);this.ajax(a,o,t,(e=>{e.isError?(toastr.error(e.errMsg,""),null!=e.serverError&&console.log(e.serverError)):(toastr.success(e.message),null!=r&&r(e))}))},saveFormWithFile:function(e,t,n,r){let o=n,a="POST";0!=e&&(a="PUT",o+="/"+e);this.ajaxWithFile(a,o,t,(e=>{e.isError?(toastr.error(e.errMsg,""),null!=e.serverError&&console.log(e.serverError)):(toastr.success(e.message),null!=r&&r(e))}))}};function e(e,t,n,r){$.ajax({type:e,url:t,data:n,success:r,error:function(e,t,n){toastr.error("An error has been occured, please contact your system administrator.<br/>message: "+e.responseText,"AJAX Error")}})}}();jQuery.fn.visible=function(){return this.css("visibility","visible")},jQuery.fn.invisible=function(){return this.css("visibility","hidden")},jQuery.fn.visibilityToggle=function(){return this.css("visibility",(function(e,t){return"visible"==t?"hidden":"visible"}))},$.extend(!0,$.fn.dataTable.defaults,{responsive:!0,dom:"<'row'<'col-sm-12 col-lg-9'f><'col-sm-12 col-lg-3'l>>\n            <'row'<'col-sm-12'tr>>\n            <'row'<'col-sm-12 col-lg-5'i><'col-sm-12 col-lg-7'p>>",language:{search:"",searchPlaceholder:"Search here...",oPaginate:{sNext:'<i class="fa fa-chevron-right"></i>',sPrevious:'<i class="fa fa-chevron-left"></i>',sFirst:'<i class="fa fa-step-chevron-left"></i>',sLast:'<i class="fa fa-step-chevron-right"></i>'}}}),$.fn.dataTable.moment("DD/MM/YYYY hh:mm A"),$.fn.dataTable.moment("DD/MM/YYYY"),window.Parsley.addValidator("dateRange",{validateString:function(e,t){const n=moment($(`#${t}`).val(),"DD/MM/YYYY hh:mm A"),r=moment(e,"DD/MM/YYYY hh:mm A");return n.isSameOrBefore(r)},messages:{en:"End date must be after start date."}}).addValidator("summernoteRequired",{validateString:function(e,t,n){if($($(n.$element[0]).val()).text().trim().length<1)return!1},messages:{en:"This value is required."}});
